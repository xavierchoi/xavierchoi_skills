# LinkedIn 예약 발행 Skill

`/linkedin-schedule` 명령으로 LinkedIn 포스트를 예약 발행합니다.

## 트리거

**슬래시 커맨드:**
- `/linkedin-schedule [날짜] [시간]`
- `/linkedin-schedule 내일 오전 9시`
- `/linkedin-schedule 2025-01-20 09:00`

**자연어 트리거:**
- "LinkedIn 예약 발행해줘"
- "이 포스트 내일 올려줘"
- "금요일 아침에 발행되게 해줘"

---

## 사전 요구사항

1. **발행할 콘텐츠**: `/linkedin-post`로 작성되고 승인된 포스트
2. **Chrome MCP**: 브라우저 자동화 도구 사용 가능
3. **LinkedIn 로그인**: 브라우저에서 로그인 상태

---

## 워크플로우

### Step 1: 예약 시간 파싱

자연어 시간 표현을 ISO 형식으로 변환:

| 입력 예시 | 변환 결과 |
|----------|----------|
| "내일 오전 9시" | 다음 날 09:00 KST |
| "다음 주 월요일 10시" | 다음 월요일 10:00 KST |
| "1월 20일 오후 2시" | 2025-01-20 14:00 KST |
| "3일 후 9시" | 현재 + 3일 09:00 KST |
| "2025-01-20 09:00" | 그대로 사용 |

**시간대**: 항상 KST (Korea Standard Time, UTC+9) 기준

### Step 2: 예약 가능 여부 검증

```
검증 항목:
1. 예약 시간이 현재보다 미래인지
2. 예약 시간이 90일 이내인지 (LinkedIn 최대 지원)
3. 예약 시간이 최소 10분 이후인지

오류 시:
- "예약 시간은 현재보다 미래여야 합니다."
- "LinkedIn은 최대 90일까지 예약할 수 있습니다."
- "최소 10분 이후로 예약해주세요."
```

### Step 3: 예약할 콘텐츠 확인

```
현재 세션에 작성 중인 포스트가 있는 경우:
→ 해당 포스트 사용

없는 경우:
→ 초안 목록에서 선택하도록 안내
→ "예약할 포스트를 선택해주세요:"
  1. [draft-id-1] Claude Code 팁 포스트... (1월 13일 저장)
  2. [draft-id-2] API 활용 가이드... (1월 12일 저장)
```

### Step 4: Chrome MCP로 예약 설정

```
1. LinkedIn 접속
   mcp__claude-in-chrome__navigate
   → url: "https://www.linkedin.com/feed/"

2. 로그인 상태 확인
   mcp__claude-in-chrome__read_page
   → 프로필 아이콘 확인

3. 새 포스트 모달 열기
   mcp__claude-in-chrome__computer
   → "Start a post" 클릭

4. 포스트 내용 입력
   mcp__claude-in-chrome__form_input
   → 포스트 텍스트 입력

5. 이미지 업로드 (있는 경우)
   mcp__claude-in-chrome__upload_image
   → 이미지 파일 업로드

6. 예약 옵션 열기
   - 시계 아이콘 또는 "Schedule" 드롭다운 클릭
   mcp__claude-in-chrome__computer
   → 예약 버튼 클릭

7. 날짜 선택
   mcp__claude-in-chrome__computer
   → 캘린더에서 날짜 클릭

8. 시간 선택
   mcp__claude-in-chrome__form_input
   → 시간 입력 필드에 시간 입력

9. 예약 확정
   mcp__claude-in-chrome__computer
   → "Schedule" 또는 "Done" 버튼 클릭
```

### Step 5: 예약 완료 확인

```
확인 방법:
1. 성공 토스트 메시지 확인
2. 예약된 포스트 목록 확인
   mcp__claude-in-chrome__navigate
   → "https://www.linkedin.com/scheduled-posts/"

스크린샷 캡처:
mcp__claude-in-chrome__gif_creator
→ 예약 확인 화면 캡처
→ 파일명: "schedule_confirmed_{날짜}.gif"
```

### Step 6: 기록 저장

```
posts-history.json에 기록:
{
  "id": "uuid",
  "linkedin_url": null,  // 발행 전이므로 null
  "published_at": null,
  "scheduled_for": "2025-01-20T09:00:00+09:00",
  "content": "포스트 내용",
  "format_type": "how-to",
  "image_path": "images/20250114_001.png",
  "scheduled": true,
  "analytics": null
}
```

---

## 예약 관리 기능

### 예약 목록 조회

```
/linkedin-schedule list
또는
"예약된 포스트 보여줘"

출력:
📅 예약된 포스트 (2개)

1. 2025-01-20 오전 9:00
   Claude Code 10가지 팁...

2. 2025-01-22 오후 2:00
   API 활용 완벽 가이드...
```

### 예약 취소

```
/linkedin-schedule cancel [id]
또는
"1번 예약 취소해줘"

Chrome MCP로 LinkedIn 예약 취소 페이지 접근:
→ 해당 예약 포스트 삭제
→ 로컬 기록 업데이트
```

---

## 오류 처리

### 예약 설정 실패

```
증상: 예약 버튼 클릭 후 오류 메시지
대응:
1. 오류 메시지 캡처
2. 초안 자동 저장
3. 사용자에게 안내

메시지:
"❌ 예약 설정에 실패했습니다.
→ 오류: {캡처된 오류 메시지}
→ 초안이 저장되었습니다: draft-{id}
→ 수동 예약 방법: LinkedIn → 포스트 작성 → 시계 아이콘"
```

### 세션 만료

```
증상: 로그인 페이지로 리다이렉트
대응:
1. 초안 저장
2. 수동 로그인 요청

메시지:
"❌ LinkedIn 세션이 만료되었습니다.
→ 브라우저에서 LinkedIn에 로그인해주세요.
→ 예약할 포스트가 저장되었습니다: draft-{id}"
```

### 날짜/시간 파싱 실패

```
증상: 자연어 해석 불가
대응: 명시적 형식 요청

메시지:
"⚠️ 예약 시간을 이해하지 못했습니다.
→ 다음 형식으로 다시 입력해주세요:
  - '내일 오전 9시'
  - '1월 20일 14:00'
  - '2025-01-20 09:00'"
```

---

## 시간 파싱 규칙

### 지원 형식

| 형식 | 예시 |
|------|------|
| 상대적 날짜 | "내일", "모레", "다음 주", "3일 후" |
| 절대적 날짜 | "1월 20일", "01/20", "2025-01-20" |
| 요일 | "월요일", "다음 금요일" |
| 시간 (12시간) | "오전 9시", "오후 2시 30분" |
| 시간 (24시간) | "09:00", "14:30" |

### 기본값

- 날짜만 지정 시: 오전 9시 (09:00)
- 시간만 지정 시: 오늘 (과거면 내일)

### 예약 권장 시간

LinkedIn 한국 사용자 최적 시간대:
- **평일**: 오전 8-9시, 점심 12-13시, 저녁 18-19시
- **주말**: 오전 10-11시

```
"최적 발행 시간으로 예약해줘"
→ 다음 평일 오전 9시로 자동 설정
```

---

## 출력 메시지 형식

### 예약 성공

```
✅ LinkedIn 포스트가 예약되었습니다!

📅 예약 시간: 2025년 1월 20일 (월) 오전 9:00
📝 포스트: Claude Code로 생산성 10배 높이는 팁...
🖼️ 이미지: 포함됨

💡 LinkedIn → "Scheduled posts"에서 확인하실 수 있습니다.
💾 로컬 기록에 저장되었습니다.

[예약 확인 스크린샷]
```

### 예약 확인 대기

```
📋 예약 정보 확인

포스트 내용:
---
{포스트 미리보기 (100자)}...
---

예약 시간: 2025년 1월 20일 (월) 오전 9:00
이미지: 20250114_001.png

이 정보로 예약하시겠습니까? (y/n)
```

---

## 주의사항

### LinkedIn 예약 제한

- 최대 예약 기간: 90일
- 최소 예약 간격: 10분 이후
- 동시 예약 가능 개수: 제한 없음 (권장: 하루 5개 이내)

### 시간대 처리

- 모든 시간은 KST 기준
- 저장 시 ISO 8601 형식 + 타임존 오프셋 (+09:00)

### 예약 후 수정

- LinkedIn에서 예약 포스트 수정 가능
- 수정 시 로컬 기록과 불일치 발생 가능
- `/linkedin-schedule sync`로 동기화 (향후 구현)
